<template>
  <div class="home-content">
    <div class="logo_left">
       <div class="menu_col">
        <img class="bx-menu" :src="$imagePath + 'menu.svg'" />
      </div>
      <span class="topbarlogo">
        <a class=" alllogo" :href="$userAppUrl + 'smarttiusadmin'">
        <span class="darklogo">
        <img :src="$userDashLogo"  alt="Logo">
        </span>
        <span class="lightlogo">
           <img :src="$lightLogo"  alt="Logo">
        </span>
      </a>
      </span>

      <div class="head_dash_titile">
        <h6 class="my-0 themetextcolor">Dashboard</h6>
      </div>
    </div>

    <div class="profile_col">
      <div class="search_col">
        <div class="search_inner">
          <input class="search_input first_input_bx" placeholder="Search..." type="search" />
          <button class="search_btn first_btn">
            <img :src="$imagePath + 'search.svg'" />
          </button>
          <button data-bs-toggle="modal" data-bs-target="#search_check" class="search_btn newsearchbtn">
            <img :src="$imagePath + 'search.svg'" />
          </button>
        </div>
      </div>
      <!-- <button class=" bg-transparent thistheme">
        <span>
        <svg fill="none"  viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg" id="fi_17648604"><g clip-rule="evenodd" fill="rgb(0,0,0)" fill-rule="evenodd"><path d="m12 9c-1.6569 0-3 1.3431-3 3s1.3431 3 3 3 3-1.3431 3-3-1.3431-3-3-3zm-5 3c0-2.76142 2.23858-5 5-5 2.7614 0 5 2.23858 5 5 0 2.7614-2.2386 5-5 5-2.76142 0-5-2.2386-5-5z"></path><path d="m19 12c0-.5523.4477-1 1-1h1c.5523 0 1 .4477 1 1s-.4477 1-1 1h-1c-.5523 0-1-.4477-1-1z"></path><path d="m2 12c0-.5523.44772-1 1-1h1c.55228 0 1 .4477 1 1s-.44772 1-1 1h-1c-.55228 0-1-.4477-1-1z"></path><path d="m12 19c.5523 0 1 .4477 1 1v1c0 .5523-.4477 1-1 1s-1-.4477-1-1v-1c0-.5523.4477-1 1-1z"></path><path d="m12 2c.5523 0 1 .44772 1 1v1c0 .55228-.4477 1-1 1s-1-.44772-1-1v-1c0-.55228.4477-1 1-1z"></path><path d="m16.9497 16.9497c.3906-.3905 1.0237-.3905 1.4143 0l.7071.7072c.3905.3905.3905 1.0236 0 1.4142-.3906.3905-1.0237.3905-1.4142 0l-.7072-.7071c-.3905-.3906-.3905-1.0237 0-1.4143z"></path><path d="m4.92893 4.92893c.39053-.39052 1.02369-.39052 1.41422 0l.7071.70711c.39053.39052.39053 1.02369 0 1.41421-.39052.39053-1.02369.39053-1.41421 0l-.70711-.7071c-.39052-.39053-.39052-1.02369 0-1.41422z"></path><path d="m7.05025 16.9497c.39053.3906.39053 1.0237 0 1.4143l-.7071.7071c-.39053.3905-1.02369.3905-1.41422 0-.39052-.3906-.39052-1.0237 0-1.4142l.70711-.7072c.39052-.3905 1.02369-.3905 1.41421 0z"></path><path d="m19.0711 4.92893c.3905.39053.3905 1.02369 0 1.41422l-.7071.7071c-.3906.39053-1.0237.39053-1.4143 0-.3905-.39052-.3905-1.02369 0-1.41421l.7072-.70711c.3905-.39052 1.0236-.39052 1.4142 0z"></path></g></svg>
      </span>
       <span>
       <svg id="fi_2550398" enable-background="new 0 0 512 512"  viewBox="0 0 512 512"  xmlns="http://www.w3.org/2000/svg"><path d="m500.074 322.563c-4.801-3.982-11.563-4.578-16.984-1.5-5.279 2.998-10.788 5.691-16.379 8.004-17.824 7.385-36.554 11.129-55.666 11.129-59.139 0-111.973-35.303-134.604-89.939-14.887-35.938-14.887-75.521-.001-111.459 14.886-35.936 42.875-63.926 78.809-78.811 5.606-2.32 11.407-4.313 17.243-5.92 6.012-1.656 10.371-6.859 10.949-13.068.58-6.209-2.743-12.129-8.345-14.867-34.955-17.097-73.905-26.132-112.639-26.132-33.607 0-66.518 6.574-97.819 19.537-63.16 26.164-112.352 75.356-138.514 138.516-26.163 63.16-26.163 132.727 0 195.887 19.753 47.688 52.929 87.799 95.941 115.998 41.972 27.517 90.595 42.062 140.611 42.062 33.617 0 66.539-6.576 97.849-19.547 67.776-28.072 120.321-84.014 144.16-153.477 2.024-5.898.188-12.433-4.611-16.413z"></path></svg>
        </span>
      </button> -->
      <button data-bs-toggle="modal" data-bs-target="#coverage_check" class="btn check_coveragebtn bg_blue text-white">
        <div class="d-flex align-items-center maingape">
          <img width="25" height="25" :src="$imagePath + 'verify.gif'" />Verify Coverage
        </div>
      </button>
      <div class="notification" @click="loadNotifications">
        <img class="open_notif action_to" :src="$imagePath + 'notificationbell.svg'" />
        <span class="badge bg-danger bubble_badge cursor">{{ totalNotifications }}</span>
      </div>

      <div class="profile_box">
        <img v-if="$authUser.profile_image" :src="$authUser.profile_image" />
        <img v-else :src="$imagePath + 'profiles.jpg'" />
      </div>
        <div class="Adrop_outer">
        <div class="Adrop_box_wrap">
          <!-- <div class="profile_popup_header  border-bottom px-2 py-2 d-flex gap-1 align-items-center">
            <div class="profile_pop_inner">
              <img v-if="$authUser.profile_image" :src="$authUser.profile_image" >
              <img v-else :src="$imagePath + 'profiles.jpg'" >
            </div>
            <div class="profile_pop_data">
              <h5 class="text-dark def_12_size mb-0">User name here</h5>
              <h6 class="text-dark def_12_size mb-0">User name here</h6>
            </div>
          </div> -->
          <ul class="Adrop_list">
            <li>
              <a :href="$userAppUrl + 'sdcsmuser/profile'">
              <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 512 512.001" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g transform="matrix(0.9000000000000002,0,0,0.9000000000000002,21.3581985473632,25.599999999999937)"><path d="M210.352 246.633c33.882 0 63.218-12.153 87.195-36.13 23.969-23.972 36.125-53.304 36.125-87.19 0-33.876-12.152-63.211-36.129-87.192C273.566 12.152 244.23 0 210.352 0c-33.887 0-63.22 12.152-87.192 36.125s-36.129 53.309-36.129 87.188c0 33.886 12.156 63.222 36.13 87.195 23.98 23.969 53.316 36.125 87.19 36.125zM144.379 57.34c18.394-18.395 39.973-27.336 65.973-27.336 25.996 0 47.578 8.941 65.976 27.336 18.395 18.398 27.34 39.98 27.34 65.972 0 26-8.945 47.579-27.34 65.977-18.398 18.399-39.98 27.34-65.976 27.34-25.993 0-47.57-8.945-65.973-27.34-18.399-18.394-27.344-39.976-27.344-65.976 0-25.993 8.945-47.575 27.344-65.973zM426.129 393.703c-.692-9.976-2.09-20.86-4.149-32.351-2.078-11.579-4.753-22.524-7.957-32.528-3.312-10.34-7.808-20.55-13.375-30.336-5.77-10.156-12.55-19-20.16-26.277-7.957-7.613-17.699-13.734-28.965-18.2-11.226-4.44-23.668-6.69-36.976-6.69-5.227 0-10.281 2.144-20.043 8.5a2711.03 2711.03 0 0 1-20.879 13.46c-6.707 4.274-15.793 8.278-27.016 11.903-10.949 3.543-22.066 5.34-33.043 5.34-10.968 0-22.086-1.797-33.043-5.34-11.21-3.622-20.3-7.625-26.996-11.899-7.77-4.965-14.8-9.496-20.898-13.469-9.754-6.355-14.809-8.5-20.035-8.5-13.313 0-25.75 2.254-36.973 6.7-11.258 4.457-21.004 10.578-28.969 18.199-7.609 7.281-14.39 16.12-20.156 26.273-5.558 9.785-10.058 19.992-13.371 30.34-3.2 10.004-5.875 20.945-7.953 32.524-2.063 11.476-3.457 22.363-4.149 32.363C.343 403.492 0 413.668 0 423.949c0 26.727 8.496 48.363 25.25 64.32C41.797 504.017 63.688 512 90.316 512h246.532c26.62 0 48.511-7.984 65.062-23.73 16.758-15.946 25.254-37.59 25.254-64.325-.004-10.316-.351-20.492-1.035-30.242zm-44.906 72.828c-10.934 10.406-25.45 15.465-44.38 15.465H90.317c-18.933 0-33.449-5.059-44.379-15.46-10.722-10.208-15.933-24.141-15.933-42.587 0-9.594.316-19.066.95-28.16.616-8.922 1.878-18.723 3.75-29.137 1.847-10.285 4.198-19.937 6.995-28.675 2.684-8.38 6.344-16.676 10.883-24.668 4.332-7.618 9.316-14.153 14.816-19.418 5.145-4.926 11.63-8.957 19.27-11.98 7.066-2.798 15.008-4.329 23.629-4.56 1.05.56 2.922 1.626 5.953 3.602 6.168 4.02 13.277 8.606 21.137 13.625 8.86 5.649 20.273 10.75 33.91 15.152 13.941 4.508 28.16 6.797 42.273 6.797 14.114 0 28.336-2.289 42.27-6.793 13.648-4.41 25.058-9.507 33.93-15.164 8.043-5.14 14.953-9.593 21.12-13.617 3.032-1.973 4.903-3.043 5.954-3.601 8.625.23 16.566 1.761 23.636 4.558 7.637 3.024 14.122 7.059 19.266 11.98 5.5 5.262 10.484 11.798 14.816 19.423 4.543 7.988 8.208 16.289 10.887 24.66 2.801 8.75 5.156 18.398 7 28.675 1.867 10.434 3.133 20.239 3.75 29.145v.008c.637 9.058.957 18.527.961 28.148-.004 18.45-5.215 32.38-15.937 42.582zm0 0" fill="#000000" opacity="1" data-original="#000000"></path></g></svg>
              Profile</a>
            </li>
            <li>
              <a href="#">
                <svg fill="none"  viewBox="0 0 40 40"  xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill="rgb(0,0,0)" fill-rule="evenodd"><path d="m6.32764 19.6443c-.05522.0552-.07764.1185-.07764.1724v5.5c0 .9596.79035 1.75 1.74998 1.75h2.16662c.143 0 .2501-.1071.2501-.25v-7c0-.1353-.1161-.25-.2501-.25h-3.66656c-.05392 0-.11719.0224-.1724.0776zm-2.57764.1724c0-1.5071 1.24307-2.75 2.75004-2.75h3.66656c1.5327 0 2.7501 1.2519 2.7501 2.75v7c0 1.5237-1.2264 2.75-2.7501 2.75h-2.16662c-2.34037 0-4.24998-1.9097-4.24998-4.25z"/><path d="m20 6.23334c-5.7596 0-10.41667 4.65706-10.41667 10.41666v1.6833c0 .6904-.55964 1.25-1.25 1.25-.69035 0-1.25-.5596-1.25-1.25v-1.6833c0-7.14035 5.77627-12.91666 12.91667-12.91666s12.9167 5.77631 12.9167 12.91666v1.6667c0 .6903-.5597 1.25-1.25 1.25-.6904 0-1.25-.5597-1.25-1.25v-1.6667c0-5.7596-4.6571-10.41666-10.4167-10.41666z"/><path d="m31.7462 27.0912c.6769.1359 1.1153.7948.9794 1.4716-.8817 4.3892-4.7521 7.6872-9.3923 7.6872h-1.6666c-.6904 0-1.25-.5596-1.25-1.25s.5596-1.25 1.25-1.25h1.6666c3.4265 0 6.2896-2.4354 6.9412-5.6795.136-.6768.7949-1.1153 1.4717-.9793z"/><path d="m29.661 19.6443c-.0552.0552-.0777.1185-.0777.1724v7c0 .1353.1161.25.2501.25h2.0833c1.0096 0 1.8333-.8237 1.8333-1.8334v-5.4166c0-.1353-.116-.25-.25-.25h-3.6666c-.0539 0-.1172.0224-.1724.0776zm-2.5777.1724c0-1.5071 1.2431-2.75 2.7501-2.75h3.6666c1.5326 0 2.75 1.2519 2.75 2.75v5.4166c0 2.3904-1.9429 4.3334-4.3333 4.3334h-2.0833c-1.5327 0-2.7501-1.252-2.7501-2.75z"/></g></svg>
                Support</a>
            </li>
            <li>
              <a href="#">
                <svg id="Layer"  viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg"><path id="message-text-notification" d="m3 21.75a.75.75 0 0 1 -.75-.75v-15a3.383 3.383 0 0 1 3.75-3.75h8a.75.75 0 0 1 0 1.5h-8c-1.577 0-2.25.673-2.25 2.25v13.189l1.72-1.719a.747.747 0 0 1 .53-.22h12c1.577 0 2.25-.673 2.25-2.25v-5a.75.75 0 0 1 1.5 0v5a3.383 3.383 0 0 1 -3.75 3.75h-11.689l-2.781 2.78a.746.746 0 0 1 -.53.22zm19.75-17.75a2.75 2.75 0 1 0 -2.75 2.75 2.752 2.752 0 0 0 2.75-2.75zm-1.5 0a1.25 1.25 0 1 1 -1.25-1.25 1.252 1.252 0 0 1 1.25 1.25zm-5.5 5a.75.75 0 0 0 -.75-.75h-7a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 .75-.75zm-2 4a.75.75 0 0 0 -.75-.75h-5a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 .75-.75z" fill="rgb(0,0,0)"/></svg>
                Inbox</a>
            </li>
            <li>
              <a href="#">
                <svg id="Layer_2" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="m3 8h15.142c.447 1.72 1.999 3 3.858 3s3.411-1.28 3.858-3h3.142c.553 0 1-.448 1-1s-.447-1-1-1h-3.142c-.447-1.72-1.999-3-3.858-3s-3.411 1.28-3.858 3h-15.142c-.553 0-1 .448-1 1s.447 1 1 1zm19-3c1.103 0 2 .897 2 2s-.897 2-2 2-2-.897-2-2 .897-2 2-2z"/><path d="m29 15h-15.142c-.447-1.72-1.999-3-3.858-3s-3.411 1.28-3.858 3h-3.142c-.553 0-1 .448-1 1s.447 1 1 1h3.142c.447 1.72 1.999 3 3.858 3s3.411-1.28 3.858-3h15.142c.553 0 1-.448 1-1s-.447-1-1-1zm-19 3c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"/><path d="m29 24h-3.142c-.447-1.72-1.999-3-3.858-3s-3.411 1.28-3.858 3h-15.142c-.553 0-1 .448-1 1s.447 1 1 1h15.142c.447 1.72 1.999 3 3.858 3s3.411-1.28 3.858-3h3.142c.553 0 1-.448 1-1s-.447-1-1-1zm-7 3c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"/></svg>
                Settings</a>
            </li>
            <li>
              <a href="#" @click="confirmLogOut">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve">
              <g>
                <path d="M18,20.8h-3c-0.4,0-0.8-0.3-0.8-0.8s0.3-0.8,0.8-0.8h3c0.7,0,1.3-0.6,1.3-1.3V6c0-0.7-0.6-1.3-1.3-1.3h-3   c-0.4,0-0.8-0.3-0.8-0.8s0.3-0.8,0.8-0.8h3c1.5,0,2.8,1.2,2.8,2.8v12C20.8,19.5,19.5,20.8,18,20.8z M8,16.8c-0.2,0-0.4-0.1-0.5-0.2   l-4-4c-0.1-0.1-0.1-0.2-0.2-0.2c0-0.1-0.1-0.2-0.1-0.3s0-0.2,0.1-0.3c0-0.1,0.1-0.2,0.2-0.2l4-4c0.3-0.3,0.8-0.3,1.1,0   s0.3,0.8,0,1.1l-2.7,2.7H16c0.4,0,0.8,0.3,0.8,0.8s-0.3,0.8-0.8,0.8H5.8l2.7,2.7c0.3,0.3,0.3,0.8,0,1.1C8.4,16.7,8.2,16.8,8,16.8z"/>
              </g>
              </svg>
                Logout</a>
            </li>
          </ul>
          <!-- <div class="theme_title d-flex  align-items-center  justify-content-center ">
            <svg id="fi_12672633" enable-background="new 0 0 64 64" height="22" viewBox="0 0 64 64" width="22" xmlns="http://www.w3.org/2000/svg"><g><path d="m31.996 59c-5.693 0-11.325-1.833-15.917-5.19-7.564-5.533-11.772-14.773-10.981-24.114.783-9.247 6.427-17.601 14.729-21.803 8.492-4.295 18.741-3.769 26.748 1.374 7.855 5.047 12.614 13.974 12.419 23.298-.012.554-.45 1-1.021.979-.552-.012-.99-.469-.979-1.021.181-8.635-4.226-16.901-11.5-21.573-7.412-4.763-16.903-5.25-24.764-1.272-7.688 3.891-12.915 11.625-13.64 20.186-.733 8.651 3.164 17.208 10.169 22.33 4.392 3.213 9.805 4.911 15.263 4.8.525.016 1.009.426 1.021.979.012.552-.426 1.01-.979 1.021-.188.004-.378.006-.568.006z"></path></g><g><path d="m53.946 37.45c-.834 0-1.664-.213-2.417-.64-.48-.272-.649-.883-.377-1.363.272-.479.882-.648 1.363-.377.906.515 2.009.503 2.949-.032.937-.532 1.508-1.473 1.53-2.514.011-.552.473-1.019 1.021-.979.552.012.991.469.979 1.021-.036 1.753-.986 3.327-2.541 4.211-.788.449-1.651.673-2.507.673z"></path></g><g><path d="m35.941 53.022c-.349 0-.687-.182-.871-.507-3.042-5.365-1.731-12.347 3.049-16.238 4.058-3.304 9.843-3.788 14.396-1.207.48.272.649.883.377 1.363-.273.48-.883.647-1.363.377-3.842-2.181-8.724-1.769-12.147 1.018-4.033 3.283-5.139 9.174-2.571 13.701.272.48.104 1.091-.377 1.363-.156.088-.326.13-.493.13z"></path></g><g><path d="m32.544 58.994c-.542 0-.988-.435-1-.979-.011-.552.427-1.009.979-1.021 1.042-.021 1.984-.596 2.518-1.535.532-.937.543-2.037.029-2.942-.272-.48-.104-1.091.376-1.363.48-.275 1.091-.104 1.363.375.866 1.525.854 3.364-.029 4.919-.886 1.559-2.461 2.511-4.216 2.547-.006-.001-.013-.001-.02-.001z"></path></g><g><path d="m16.113 40.955c-2.439 0-4.5-2.061-4.5-4.5s2.061-4.5 4.5-4.5 4.5 2.061 4.5 4.5-2.061 4.5-4.5 4.5z"></path></g><g><path d="m18.081 29.11c-2.71 0-5-2.29-5-5s2.29-5 5-5 5 2.29 5 5-2.29 5-5 5z"></path></g><g><path d="m30.469 22.076c-2.981 0-5.5-2.519-5.5-5.5s2.519-5.5 5.5-5.5 5.5 2.519 5.5 5.5-2.518 5.5-5.5 5.5z"></path></g><g><path d="m44.346 29.48c-3.252 0-6-2.748-6-6s2.748-6 6-6 6 2.748 6 6-2.747 6-6 6z"></path></g></svg>
            <h4  class="themetextcolor px-2 mt-0 mb-0  def_14_size">Theme</h4></div>
          <ul class="d-flex theme_box">
            <li ><div class="w-100 dark_theme themetextcolor">
              <svg fill="none"  viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg" id="fi_17648604"><g clip-rule="evenodd" fill="rgb(0,0,0)" fill-rule="evenodd"><path d="m12 9c-1.6569 0-3 1.3431-3 3s1.3431 3 3 3 3-1.3431 3-3-1.3431-3-3-3zm-5 3c0-2.76142 2.23858-5 5-5 2.7614 0 5 2.23858 5 5 0 2.7614-2.2386 5-5 5-2.76142 0-5-2.2386-5-5z"></path><path d="m19 12c0-.5523.4477-1 1-1h1c.5523 0 1 .4477 1 1s-.4477 1-1 1h-1c-.5523 0-1-.4477-1-1z"></path><path d="m2 12c0-.5523.44772-1 1-1h1c.55228 0 1 .4477 1 1s-.44772 1-1 1h-1c-.55228 0-1-.4477-1-1z"></path><path d="m12 19c.5523 0 1 .4477 1 1v1c0 .5523-.4477 1-1 1s-1-.4477-1-1v-1c0-.5523.4477-1 1-1z"></path><path d="m12 2c.5523 0 1 .44772 1 1v1c0 .55228-.4477 1-1 1s-1-.44772-1-1v-1c0-.55228.4477-1 1-1z"></path><path d="m16.9497 16.9497c.3906-.3905 1.0237-.3905 1.4143 0l.7071.7072c.3905.3905.3905 1.0236 0 1.4142-.3906.3905-1.0237.3905-1.4142 0l-.7072-.7071c-.3905-.3906-.3905-1.0237 0-1.4143z"></path><path d="m4.92893 4.92893c.39053-.39052 1.02369-.39052 1.41422 0l.7071.70711c.39053.39052.39053 1.02369 0 1.41421-.39052.39053-1.02369.39053-1.41421 0l-.70711-.7071c-.39052-.39053-.39052-1.02369 0-1.41422z"></path><path d="m7.05025 16.9497c.39053.3906.39053 1.0237 0 1.4143l-.7071.7071c-.39053.3905-1.02369.3905-1.41422 0-.39052-.3906-.39052-1.0237 0-1.4142l.70711-.7072c.39052-.3905 1.02369-.3905 1.41421 0z"></path><path d="m19.0711 4.92893c.3905.39053.3905 1.02369 0 1.41422l-.7071.7071c-.3906.39053-1.0237.39053-1.4143 0-.3905-.39052-.3905-1.02369 0-1.41421l.7072-.70711c.3905-.39052 1.0236-.39052 1.4142 0z"></path></g></svg>
            Light
            </div> </li>
            <li ><div class="w-100 light_theme themetextcolor">
              <svg id="fi_2550398" enable-background="new 0 0 512 512"  viewBox="0 0 512 512"  xmlns="http://www.w3.org/2000/svg"><path d="m500.074 322.563c-4.801-3.982-11.563-4.578-16.984-1.5-5.279 2.998-10.788 5.691-16.379 8.004-17.824 7.385-36.554 11.129-55.666 11.129-59.139 0-111.973-35.303-134.604-89.939-14.887-35.938-14.887-75.521-.001-111.459 14.886-35.936 42.875-63.926 78.809-78.811 5.606-2.32 11.407-4.313 17.243-5.92 6.012-1.656 10.371-6.859 10.949-13.068.58-6.209-2.743-12.129-8.345-14.867-34.955-17.097-73.905-26.132-112.639-26.132-33.607 0-66.518 6.574-97.819 19.537-63.16 26.164-112.352 75.356-138.514 138.516-26.163 63.16-26.163 132.727 0 195.887 19.753 47.688 52.929 87.799 95.941 115.998 41.972 27.517 90.595 42.062 140.611 42.062 33.617 0 66.539-6.576 97.849-19.547 67.776-28.072 120.321-84.014 144.16-153.477 2.024-5.898.188-12.433-4.611-16.413z"></path></svg>
            Dark
            </div>
            </li>
          </ul> -->
        </div>
      </div>

    </div>
  </div>
  <!-- Quick Links Model -->
  <user-layout-quick-link></user-layout-quick-link>
  <!-- Coverage Model -->
  <user-device-coverage></user-device-coverage>
  <user-layout-notification v-if="notificationsVisible" :notificationsdata="notificationsData" :notificationsvisible="notificationsVisible" @close-notifications="notificationsVisible = false" />
</template>

<script>
export default {
  data() {
    return {
      notificationsData: [],
      notificationsVisible: false,
      totalNotifications: 0,
    };
  },
  created() {
    this.notificationsCount();
  },
  methods: {
    /** Unssen Messages count */
    async notificationsCount() {
      try {
        const response = await axios.get(`${this.$userAppUrl}sdcsmuser/get-notifications/count`);
        if (response.data.success == true && response.data.count) {
            this.totalNotifications = response.data.count;
        } else {
          this.totalNotifications = 0;
        }
      } catch (error) {
        this.totalNotifications = 0;
      }

    },
    async loadNotifications() {
      try {
        this.notificationsVisible = false; // Reset UI
        show_ajax_loader();
        const response = await axios.get( `${this.$userAppUrl}sdcsmuser/get-notifications`);
        if (response.data.success && Array.isArray(response.data.notifications)) {
          this.notificationsData = []; // Clear old notifications
          this.notificationsVisible = true;
          this.revealNotifications(response.data.notifications);
          to_add_class();
        }
        hide_ajax_loader();
      } catch (error) {
        hide_ajax_loader();
        this.$alertMessage.success = false;
        this.$alertMessage.message = "Something went wrong.";
      }
    },

    revealNotifications(notifications) {
      let index = 0;
      const interval = setInterval(() => {
        if (index < notifications.length) {
          this.notificationsData.push({ ...notifications[index] });
          index++;
        } else {
          clearInterval(interval);
        }
      }, 200); // Show one notification every 300ms
    },
     /** Log-out Confirmation  */
    confirmLogOut() {
        this.$deleteAlertMessage.data.isLogout = true;
        this.$deleteAlertMessage.data.isDelete = false;
        this.$deleteAlertMessage.data.isChangeStatus = false;
        this.$deleteAlertMessage.data.itemId = null;
        this.$deleteAlertMessage.data.callback = this.userLogout;
    },
    async userLogout() {
      try {
        const response = await axios.post(
          `${this.$userAppUrl}sdcsmuser/logout`,
          {},
          { withCredentials: true }
        );
        if (response.status == 200 && response.data.redirect_at) {
          window.location.href = response.data.redirect_at;
        }
      } catch (error) {
        this.$alertMessage.success = false;
        this.$alertMessage.message =
          "Something went wrong, please try again.";
      }
    },
  },
};
</script>
